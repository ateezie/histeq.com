function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,i(o.key),o)}}function i(e){var i=function(e){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(i)?i:i+""}var n=function(){return t=function t(){var e,i,n,o,s,l,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".building-carousel-container";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.querySelector(a),this.carousel=null===(e=this.container)||void 0===e?void 0:e.querySelector(".building-carousel"),this.track=null===(i=this.carousel)||void 0===i?void 0:i.querySelector(".carousel-track"),this.slides=null===(n=this.carousel)||void 0===n?void 0:n.querySelectorAll(".carousel-slide"),this.prevButton=null===(o=this.container)||void 0===o?void 0:o.querySelector(".carousel-prev"),this.nextButton=null===(s=this.container)||void 0===s?void 0:s.querySelector(".carousel-next"),this.indicators=Array.from((null===(l=this.container)||void 0===l?void 0:l.querySelectorAll(".carousel-indicator"))||[]),this.currentSlide=0,this.autoPlayInterval=null,this.isPlaying=!0,this.slideCount=(null===(r=this.slides)||void 0===r?void 0:r.length)||0,this.config={autoPlayDelay:5e3,transitionDuration:500,swipeThreshold:50,pauseOnHover:!0,keyboardNavigation:!0},this.init()},i=[{key:"init",value:function(){if(!this.isValidCarousel())return console.warn("BuildingCarousel: Required elements not found"),!1;console.log("BuildingCarousel: Initializing with ".concat(this.slideCount," slides"));try{this.carousel.classList.remove("loading"),this.container.classList.remove("loading")}catch(t){console.debug("BuildingCarousel: unable to remove loading class",t)}return this.setupAccessibility(),this.applyOverlayStyles(),this.bindEvents(),this.updateCarousel(0),this.startAutoPlay(),console.log("BuildingCarousel: Initialization complete"),!0}},{key:"isValidCarousel",value:function(){return this.container&&this.carousel&&this.track&&this.slides&&this.slideCount>0}},{key:"setupAccessibility",value:function(){var t=this;this.carousel.setAttribute("role","region"),this.carousel.setAttribute("aria-label","Historic Equity building images carousel"),this.carousel.setAttribute("tabindex","0"),this.slides.forEach(function(e,i){e.setAttribute("role","group"),e.setAttribute("aria-roledescription","slide"),e.setAttribute("aria-label","".concat(i+1," of ").concat(t.slideCount))}),this.prevButton&&(this.prevButton.setAttribute("aria-label","Previous slide"),this.prevButton.setAttribute("aria-controls",this.carousel.id||"building-carousel")),this.nextButton&&(this.nextButton.setAttribute("aria-label","Next slide"),this.nextButton.setAttribute("aria-controls",this.carousel.id||"building-carousel")),this.indicators.forEach(function(e,i){e.setAttribute("role","button"),e.setAttribute("aria-label","Go to slide ".concat(i+1)),e.setAttribute("aria-controls",t.carousel.id||"building-carousel")})}},{key:"bindEvents",value:function(){var t=this;this.prevButton&&(this.prevButton.style.pointerEvents="auto",this.prevButton.addEventListener("click",function(e){t.prevButton.setAttribute("data-clicked","true"),console.log("BuildingCarousel: prev button clicked",{currentSlide:t.currentSlide}),t.handlePrevClick(e)})),this.nextButton&&(this.nextButton.style.pointerEvents="auto",this.nextButton.addEventListener("click",function(e){t.nextButton.setAttribute("data-clicked","true"),console.log("BuildingCarousel: next button clicked",{currentSlide:t.currentSlide}),t.handleNextClick(e)})),this.indicators.forEach(function(e,i){e.style.pointerEvents="auto",e.addEventListener("click",function(){e.setAttribute("data-clicked","true"),console.log("BuildingCarousel: indicator clicked",{index:i}),t.goToSlide(i)})}),this.bindTouchEvents(),this.config.keyboardNavigation&&this.carousel.addEventListener("keydown",this.handleKeydown.bind(this)),this.config.pauseOnHover&&(this.carousel.addEventListener("mouseenter",this.pauseAutoPlay.bind(this)),this.carousel.addEventListener("mouseleave",this.resumeAutoPlay.bind(this))),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("resize",this.debounce(this.handleResize.bind(this),250))}},{key:"handlePrevClick",value:function(t){t.preventDefault(),this.goToSlide(this.currentSlide-1),this.resetAutoPlay()}},{key:"handleNextClick",value:function(t){t.preventDefault(),this.goToSlide(this.currentSlide+1),this.resetAutoPlay()}},{key:"handleKeydown",value:function(t){switch(t.key){case"ArrowLeft":t.preventDefault(),this.goToSlide(this.currentSlide-1),this.resetAutoPlay();break;case"ArrowRight":t.preventDefault(),this.goToSlide(this.currentSlide+1),this.resetAutoPlay();break;case" ":t.preventDefault(),this.toggleAutoPlay()}}},{key:"bindTouchEvents",value:function(){var t=this,e=0,i=0;this.track.addEventListener("touchstart",function(t){e=t.touches[0].clientX},{passive:!0}),this.track.addEventListener("touchmove",function(t){i=t.touches[0].clientX},{passive:!0}),this.track.addEventListener("touchend",function(){var n=e-i;Math.abs(n)>t.config.swipeThreshold&&(n>0?t.goToSlide(t.currentSlide+1):t.goToSlide(t.currentSlide-1),t.resetAutoPlay())})}},{key:"handleResize",value:function(){this.updateCarousel(this.currentSlide,!1)}},{key:"handleVisibilityChange",value:function(){document.hidden?this.pauseAutoPlay():this.isPlaying&&this.resumeAutoPlay()}},{key:"goToSlide",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t<0&&(t=this.slideCount-1),t>=this.slideCount&&(t=0),this.updateCarousel(t,e)}},{key:"updateCarousel",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentSlide=t;var n=this.slides[0].offsetWidth,o=-this.currentSlide*n;this.track.style.transition=i?"transform ".concat(this.config.transitionDuration,"ms ease-in-out"):"none",this.track.style.transform="translateX(".concat(o,"px)"),this.slides.forEach(function(t,i){var n=i===e.currentSlide;t.classList.toggle("active",n),t.setAttribute("aria-hidden",!n)}),this.indicators.forEach(function(t,i){var n=i===e.currentSlide;t.classList.toggle("active",n),t.classList.toggle("bg-primary-600",n),t.classList.toggle("bg-gray-300",!n),t.setAttribute("aria-selected",n)}),this.prevButton&&this.prevButton.setAttribute("aria-label","Previous slide (currently ".concat(this.currentSlide+1," of ").concat(this.slideCount,")")),this.nextButton&&this.nextButton.setAttribute("aria-label","Next slide (currently ".concat(this.currentSlide+1," of ").concat(this.slideCount,")"))}},{key:"applyOverlayStyles",value:function(){var t=this.container.querySelectorAll(".carousel-slide .absolute"),e=0;t.forEach(function(t){t.querySelector("h3, p")&&!t.querySelector("svg")&&(t.style.cssText="\n                    position: absolute !important;\n                    bottom: 0 !important;\n                    left: 0 !important;\n                    right: 0 !important;\n                    background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, transparent 100%) !important;\n                    padding: 24px !important;\n                    border-radius: 0 0 8px 8px !important;\n                    z-index: 10 !important;\n                    display: block !important;\n                    visibility: visible !important;\n                    opacity: 1 !important;\n                ",t.querySelectorAll("h3, p").forEach(function(e){e.style.color="white !important",e.style.textShadow="0 1px 3px rgba(0,0,0,0.8)",e.style.margin="0","H3"===e.tagName?(e.style.fontSize="18px",e.style.fontWeight="600",e.style.marginBottom="8px",e.style.lineHeight="1.3"):(e.style.fontSize="14px",e.style.marginBottom="4px",e.style.lineHeight="1.4",e===t.querySelector("p:last-child")&&(e.style.fontWeight="700",e.style.marginBottom="0",e.style.color="#E6CD41"))}),e++)}),console.log("BuildingCarousel: Applied overlay styles to ".concat(e," slides"))}},{key:"startAutoPlay",value:function(){var t=this;this.slideCount<=1||(this.autoPlayInterval=setInterval(function(){t.goToSlide(t.currentSlide+1)},this.config.autoPlayDelay))}},{key:"pauseAutoPlay",value:function(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}},{key:"resumeAutoPlay",value:function(){this.isPlaying&&!this.autoPlayInterval&&this.startAutoPlay()}},{key:"resetAutoPlay",value:function(){this.pauseAutoPlay(),this.isPlaying&&this.startAutoPlay()}},{key:"toggleAutoPlay",value:function(){this.isPlaying=!this.isPlaying,this.isPlaying?this.startAutoPlay():this.pauseAutoPlay()}},{key:"debounce",value:function(t,e){var i;return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];clearTimeout(i),i=setTimeout(function(){clearTimeout(i),t.apply(void 0,o)},e)}}},{key:"next",value:function(){this.goToSlide(this.currentSlide+1),this.resetAutoPlay()}},{key:"prev",value:function(){this.goToSlide(this.currentSlide-1),this.resetAutoPlay()}},{key:"play",value:function(){this.isPlaying=!0,this.startAutoPlay()}},{key:"pause",value:function(){this.isPlaying=!1,this.pauseAutoPlay()}},{key:"getCurrentSlide",value:function(){return this.currentSlide}},{key:"getSlideCount",value:function(){return this.slideCount}},{key:"destroy",value:function(){var t,e,i,n,o;this.pauseAutoPlay(),null===(t=this.prevButton)||void 0===t||t.removeEventListener("click",this.handlePrevClick),null===(e=this.nextButton)||void 0===e||e.removeEventListener("click",this.handleNextClick),null===(i=this.carousel)||void 0===i||i.removeEventListener("keydown",this.handleKeydown),null===(n=this.carousel)||void 0===n||n.removeEventListener("mouseenter",this.pauseAutoPlay),null===(o=this.carousel)||void 0===o||o.removeEventListener("mouseleave",this.resumeAutoPlay),document.removeEventListener("visibilitychange",this.handleVisibilityChange),console.log("BuildingCarousel: Destroyed")}}],i&&e(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();window.BuildingCarousel=n,document.addEventListener("DOMContentLoaded",function(){document.querySelector(".building-carousel-container")&&(window.carouselInstance=new n,console.log("🎠 BuildingCarousel: Initialized successfully"))});