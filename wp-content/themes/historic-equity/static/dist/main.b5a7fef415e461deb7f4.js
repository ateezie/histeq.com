(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(t){var o=function(t){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(o)?o:o+""}!function(){"use strict";var e=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},o=[{key:"init",value:function(){console.log("Historic Equity theme loaded successfully"),this.setupSmoothScrolling(),this.setupFormEnhancements(),this.setupLoadingAnimations(),this.setupIntersectionObserver(),this.setupPerformanceOptimizations(),this.setupCarousel()}},{key:"setupSmoothScrolling",value:function(){var e,t=document.querySelectorAll('a[href^="#"]'),o=(null===(e=document.querySelector(".site-header"))||void 0===e?void 0:e.offsetHeight)||80;t.forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("href"),i=document.querySelector(n);if(i&&"#"!==n){t.preventDefault();var r=i.getBoundingClientRect().top+window.pageYOffset-o-20;window.scrollTo({top:r,behavior:"smooth"}),history.pushState(null,null,n)}})})}},{key:"setupFormEnhancements",value:function(){var e=this;document.querySelectorAll("form").forEach(function(t){t.querySelectorAll("input, textarea, select").forEach(function(t){t.addEventListener("focus",function(){var e;null===(e=t.closest(".form-group"))||void 0===e||e.classList.add("focused")}),t.addEventListener("blur",function(){var e;t.value.trim()||null===(e=t.closest(".form-group"))||void 0===e||e.classList.remove("focused")}),"email"===t.type&&t.addEventListener("input",e.validateEmail.bind(e,t))})})}},{key:"validateEmail",value:function(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value),o=e.closest(".form-group");o&&(o.classList.toggle("error",!t&&e.value.length>0),o.classList.toggle("success",t))}},{key:"setupIntersectionObserver",value:function(){var e=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("in-view"),e.target.querySelectorAll(".animate-item").forEach(function(e,t){setTimeout(function(){e.classList.add("animated")},100*t)}))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".project-card, .service-item, .stat-item, .team-member, .hero-content").forEach(function(t){t.classList.add("animate-on-scroll"),e.observe(t)})}},{key:"setupLoadingAnimations",value:function(){document.querySelectorAll('button[type="submit"], .btn-submit').forEach(function(e){e.addEventListener("click",function(){e.classList.add("loading"),setTimeout(function(){e.classList.remove("loading")},3e3)})});var e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var o=e.target;o.src=o.dataset.src,o.classList.add("loaded"),t.unobserve(o)}})});e.forEach(function(e){return t.observe(e)})}},{key:"setupPerformanceOptimizations",value:function(){var e,t=window.scrollY;window.addEventListener("scroll",function(){clearTimeout(e),e=setTimeout(function(){var e=window.scrollY,o=document.querySelector(".site-header");o&&(e>t&&e>100?o.classList.add("header-hidden"):o.classList.remove("header-hidden")),t=e},16)},{passive:!0}),this.preloadCriticalResources()}},{key:"setupCarousel",value:function(){var e=this,t=document.querySelector(".building-carousel");if(t){var o=t.querySelector(".carousel-track"),n=t.querySelectorAll(".carousel-slide"),i=t.querySelector(".carousel-prev"),r=t.querySelector(".carousel-next"),a=t.querySelectorAll(".carousel-indicator");if(o&&0!==n.length){var c,s=0,u=n.length;this.updateCarousel(o,n,a,s),i&&i.addEventListener("click",function(){s=(s-1+u)%u,e.updateCarousel(o,n,a,s),e.resetAutoPlay()}),r&&r.addEventListener("click",function(){s=(s+1)%u,e.updateCarousel(o,n,a,s),e.resetAutoPlay()}),a.forEach(function(t,i){t.addEventListener("click",function(){s=i,e.updateCarousel(o,n,a,s),e.resetAutoPlay()})});var l=0,d=0;o.addEventListener("touchstart",function(e){l=e.touches[0].clientX},{passive:!0}),o.addEventListener("touchmove",function(e){d=e.touches[0].clientX},{passive:!0}),o.addEventListener("touchend",function(){var t=l-d;Math.abs(t)>50&&(s=t>0?(s+1)%u:(s-1+u)%u,e.updateCarousel(o,n,a,s),e.resetAutoPlay())}),t.addEventListener("keydown",function(t){"ArrowLeft"===t.key?(t.preventDefault(),s=(s-1+u)%u,e.updateCarousel(o,n,a,s),e.resetAutoPlay()):"ArrowRight"===t.key&&(t.preventDefault(),s=(s+1)%u,e.updateCarousel(o,n,a,s),e.resetAutoPlay())});var f=function(){u>1&&(c=setInterval(function(){s=(s+1)%u,e.updateCarousel(o,n,a,s)},5e3))},v=function(){clearInterval(c)};this.resetAutoPlay=function(){v(),f()},t.addEventListener("mouseenter",v),t.addEventListener("mouseleave",function(){f()}),document.addEventListener("visibilitychange",function(){document.hidden?v():f()}),f()}}}},{key:"updateCarousel",value:function(e,t,o,n){var i=t[0].offsetWidth,r=-n*i;e.style.transform="translateX(".concat(r,"px)"),t.forEach(function(e,t){e.classList.toggle("active",t===n),e.setAttribute("aria-hidden",t!==n)}),o.forEach(function(e,t){e.classList.toggle("active",t===n),e.setAttribute("aria-selected",t===n)});var a=e.closest(".building-carousel"),c=a.querySelector(".carousel-prev"),s=a.querySelector(".carousel-next");c&&c.setAttribute("aria-label","Previous slide (".concat(n+1," of ").concat(t.length,")")),s&&s.setAttribute("aria-label","Next slide (".concat(n+1," of ").concat(t.length,")"))}},{key:"preloadCriticalResources",value:function(){["/wp-content/themes/historic-equity/static/images/logo__black.png"].forEach(function(e){var t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t)})}},{key:"scrollToElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=document.querySelector(e);if(o){var n=o.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}}},{key:"showNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",o=document.createElement("div");o.className="notification notification--".concat(t),o.textContent=e,document.body.appendChild(o),setTimeout(function(){o.remove()},5e3)}}],o&&t(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o}();document.addEventListener("DOMContentLoaded",function(){window.HistoricEquityTheme=new e}),window.HE={scrollTo:function(e,t){window.HistoricEquityTheme&&window.HistoricEquityTheme.scrollToElement(e,t)},notify:function(e,t){window.HistoricEquityTheme&&window.HistoricEquityTheme.showNotification(e,t)}}}()})();